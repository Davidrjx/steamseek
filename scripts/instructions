###
# 单线程
python archive/fetch_game_resume.py --limit 50000 --sleep 0.5 --output steam_games_data.jsonl --checkpoint processed_ids.txt   --max-results 1000

# (recommended) 单线程 with failed app saved as 429 rate limit for later retry
python archive/fetch_game_resume.py --limit 50000 --sleep 0.5 --output steam_games_data_third.jsonl --checkpoint processed_ids.txt --failed-appids failed_appids.txt --max-results 1000

# fetch a certain game app, like 322330
python archive/fetch_game_resume_bak.py --appid 322330 --no-filter --output data/steam_games_data_tmp.jsonl

# 多线程, not recommended as too many requests limit by steam community API KEY. mayby succeed by steam publisher API KEY
python archive/fetch_game_resume_multi_thread.py --limit 50000 --sleep 0.5 --output steam_games_data_test.jsonl --checkpoint processed_ids_test.txt --batch-size 10000 --workers 5


# generate game text embedding and upload to vector db
python generate_and_upload_embeddings.py --batch-size 20 data/steam_games_data.jsonl


### generate game summary
# as for sequential generation for steam_games_data.jsonl
python game_summarizer.py --input data/steam_games_data.jsonl --output data/summaries.jsonl --state data/summarizer_state.json

# (recommended) summary generation thread optimization
python game_summarizer_threaded.py --input data/steam_games_data.jsonl --output data/summaries.jsonl --state data/summarizer_state.json --workers 5

# for single game app
python game_summarizer.py --appid 219740 --output data/summaries_tmp.jsonl

### tool
# # 过滤已处理的app
grep -Po '"appid":\s*"?[0-9]{1,8}"?' steam_games_data.jsonl

